var e=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,n=Object.assign;import{c as o,L as l}from"./clientRender.ea786f29.js";import{M as s}from"./theme-interface.93a92e42.js";const r={};function p(p){var{components:i}=p,m=((n,o)=>{var l={};for(var s in n)e.call(n,s)&&o.indexOf(s)<0&&(l[s]=n[s]);if(null!=n&&t)for(var s of t(n))o.indexOf(s)<0&&a.call(n,s)&&(l[s]=n[s]);return l})(p,["components"]);return o("wrapper",n(n(n({},r),m),{components:i,mdxType:"MDXLayout"}),o("h1",null,"Page data"),o("p",null,o("strong",{parentName:"p"},"Essentially, vite-pages is a React app framework that collect your pages data and pass them to your theme.")," So what kinds of data does it collect?"),o("p",null,"Each page consists of two kinds of data:"),o("ul",null,o("li",{parentName:"ul"},"Static data"),o("li",{parentName:"ul"},"Runtime data")),o("p",null,"Both of these page data are passed to the theme so that it can render the app."),o("h2",null,"Static data"),o("p",null,"Static data usually contains the matadata of a page. Static data of ",o("strong",{parentName:"p"},"all pages")," is loaded ",o("strong",{parentName:"p"},"eagerly")," when the app bootstrap, so that the theme can render a nav menu or a search box with this infomation."),o("blockquote",null,o("p",{parentName:"blockquote"},"You should try to keep the static data small.")),o("p",null,"For ",o("inlineCode",{parentName:"p"},".tsx|.jsx")," pages, you can define static data with ",o("strong",{parentName:"p"},"a docblock(comment) at the top of the file"),"."),o("pre",null,o("code",n({parentName:"pre"},{className:"language-tsx"}),"/**\n * @title index page\n * @tags tag1,tag2\n */\n")),o("p",null,"This will be collected as:"),o("pre",null,o("code",n({parentName:"pre"},{className:"language-json"}),'{ "title": "index page", "tags": "tag1,tag2" }\n')),o("p",null,"For ",o("inlineCode",{parentName:"p"},".md|.mdx")," pages, you can define static data with YAML front matter:"),o("pre",null,o("code",n({parentName:"pre"},{className:"language-md"}),"---\ntitle: my page\ntags:\n  - tag1\n  - tag2\n---\n")),o("p",null,"This will be collected as:"),o("pre",null,o("code",n({parentName:"pre"},{className:"language-json"}),'{ "title": "my page", "tags": ["tag1", "tag2"] }\n')),o("blockquote",null,o("p",{parentName:"blockquote"},"As you can see, YAML front matter can express some simple data structure(.e.g array), while a docblock's properties can only express strings. A qualified theme should understand both of these.")),o("h2",null,"Runtime data"),o("p",null,"Runtime page data is whatever value you export from a page file. It contains the actual content of the page."),o("p",null,"Most themes(.e.g ",o(l,{to:"/basic-theme",mdxType:"Link"},"the basic theme"),") ask users to ",o("inlineCode",{parentName:"p"},"export default")," a React component from each page file. But that is not a requirement from vite-pages core. We will talk about this later."),o("h2",null,"Difference"),o("p",null,"Both static data and runtime data are passed to the theme, so the theme can use them to render the app."),o("p",null,"Difference:"),o("ul",null,o("li",{parentName:"ul"},"Static data of ",o("strong",{parentName:"li"},"all pages")," is loaded ",o("strong",{parentName:"li"},"eagerly")," when the app bootstrap. So you should try to keep the static data small."),o("li",{parentName:"ul"},"Runtime data is only loaded when user navigate to that page."),o("li",{parentName:"ul"},"The value type of static data is limited (string or simple object/array), while the value of runtime data can be any javascript value (.e.g a React component).")),o("h2",null,"How theme consume these data"),o("p",null,"As stated in ",o(l,{to:"/theme-customization",mdxType:"Link"},"the theme customization doc"),", a theme is a React compoent. It will be rendered by vite-pages core, and get useful info from props:"),o("ul",null,o("li",{parentName:"ul"},"All pages' static data"),o("li",{parentName:"ul"},"All runtime data that is already loaded"),o("li",{parentName:"ul"},"The current loading state of the app")),o("p",null,"Here is the interface of a theme:"),o(s,{mdxType:"ThemeInterface"}),o("blockquote",null,o("p",{parentName:"blockquote"},"Here is an example implementation of vite-pages theme: ",o("a",n({parentName:"p"},{href:"https://github.com/vitejs/vite-plugin-react-pages/blob/master/packages/theme-basic/src/index.tsx"}),"vite-pages-theme-basic"),". ",o("a",n({parentName:"p"},{href:"https://github.com/vitejs/vite-plugin-react-pages/blob/master/fixtures/use-theme/pages/_theme.tsx"}),"This fixture")," demonstrate how to use it.")),o("h2",null,"Vite-pages core doesn't care what your page data looks like"),o("p",null,"Vite-pages itself doesn't care what the page data looks like. How to interpret the page data and render the view, is totally decided by ",o(l,{to:"/theme-customization",mdxType:"Link"},"the theme"),'. Vite-pages just collect your pages data and pass them to the theme. This design make the vite-pages core more "simple" and make themes more powerful.'),o("p",null,"Most themes(.e.g ",o(l,{to:"/basic-theme",mdxType:"Link"},"the basic theme"),") ask users to ",o("inlineCode",{parentName:"p"},"export default")," a React component from each page file. But that is not a requirement from vite-pages core."))}p.isMDXComponent=!0;var i=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:p});const m={};m.main=i;export default m;
